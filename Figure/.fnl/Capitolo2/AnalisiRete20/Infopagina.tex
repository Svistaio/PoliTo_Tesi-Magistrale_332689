
% !TEX root = ../../../Esperimenti/.tex/MEF.tex
% LTeX: language=it

\begin{tikzpicture}%
    %\begingroup Comandi
        \definecolor{colore}{rgb}{0.50196,0.50196,0.50196}%
    
        % \renewcommand\subCaptionSize{10}
        % \renewcommand\labelSize{10}
        % \renewcommand\tickSize{9}
        % \renewcommand\legendSize{9}

        \pgfmathsetmacro\plotWidth{7}
        \pgfmathsetmacro\plotHeight{.618*\plotWidth}
        \pgfmathsetmacro\halfHeightPlot{\plotHeight/2}
        \pgfmathsetmacro\lineWidth{.5pt}
        \pgfmathsetmacro\lineMidWidth{.75pt}
        \pgfmathsetmacro\lineThickWidth{1.2pt}
        
        \pgfmathsetmacro\xPlotSep{2.5}
        \pgfmathsetmacro\yPlotSep{5.5}
        \pgfmathsetmacro\yPlotSepPartial{.8*\yPlotSep}
        \pgfmathsetmacro\xLegendSep{.25cm}
    %\endgroup

    %\begingroup Impostazioni pgfplots - Prima colonna
        \pgfplotsset{
            /pgfplots/group/plotGroup/.style={
                group name=Col1,
                group size=1 by 5,
                vertical sep=\yPlotSep em,
                % x descriptions at=edge bottom,
                % y descriptions at=edge left,
            },
            plotColumn/.style={
                width=\plotWidth cm,
                height=\plotHeight cm,
                scale only axis,
                xlabel style={
                    font=\color{white!15!black}\dimTesto{\labelSize},
                },
                ylabel style={
                    font=\color{white!15!black}\dimTesto{\labelSize},
                },
                xticklabel style={font=\dimTesto{\tickSize}},
                yticklabel style={font=\dimTesto{\tickSize}},
                % axis background/.style={fill=white},
                axis x line*=bottom,
                axis y line*=left,
                xmajorgrids,
                ymajorgrids,
                grid style={dashed}
            },
            plotLegend/.style={
                font=\dimTesto{\legendSize},
                legend cell align=left,
                align=left,
                legend pos=north east,
                xshift=\xLegendSep,
                draw=white!15!black,
            },
        }
    %\endgroup

    \begin{groupplot}[group style=plotGroup,plotColumn]
        \input{../../Figure/.fnl/Capitolo2/AnalisiRete20/DD.tex}
        \input{../../Figure/.fnl/Capitolo2/AnalisiRete20/AA.tex}
        \input{../../Figure/.fnl/Capitolo2/AnalisiRete20/WD.tex}
        \input{../../Figure/.fnl/Capitolo2/AnalisiRete20/WCC1.tex}
        \input{../../Figure/.fnl/Capitolo2/AnalisiRete20/WCC2.tex}
    \end{groupplot}

    %\begingroup Impostazioni pgfplots - Seconda colonna
        \pgfplotsset{
            /pgfplots/group/plotGroup/.append style={
                group name=Col2,
                y descriptions at=edge right,
            },
            plotColumn/.append style={
                xmax=50,
                % xlabel={},
                axis y line*=right,
                y tick scale label style={
                    xshift=.4cm,
                    at={(1,1)},
                    anchor=south west,
                },
                % ytick distance=0.01,
            },
            % plotLegend/.append style={
            %     at={(1,.5)},
            %     anchor=east,
            %     xshift=-2*\xLegendSep, % Le traslazioni vengono sommate; quindi se prima si aveva \xLegendSep ora si ha «\xLegendSep-2*\xLegendSepcm=-\xLegendSep», come desiderato
            % },
        }
    %\endgroup

    \begin{groupplot}[group style=plotGroup,plotColumn,clip=false]
        \input{../../Figure/.fnl/Capitolo2/AnalisiRete20/ACC.tex}
        \input{../../Figure/.fnl/Capitolo2/AnalisiRete20/BC.tex}
        \input{../../Figure/.fnl/Capitolo2/AnalisiRete20/SD.tex}
        \input{../../Figure/.fnl/Capitolo2/AnalisiRete20/WA1.tex}
        \input{../../Figure/.fnl/Capitolo2/AnalisiRete20/WA2.tex}
    \end{groupplot}

    %\begingroup Didascalie
        \tikzset{SubCaption/.style={
            text width=\plotWidth cm,
            anchor=north,
            align=center,
            yshift=-3em
        }}
        \node[SubCaption] at (Col1 c1r1.south)
            {\dimTesto{\subCaptionSize}\sottoDidascalia{Distribuzione di probabilità dei gradi.\label{figDeMontisPk}}};
        \node[SubCaption] at (Col2 c1r1.south)
            {\dimTesto{\subCaptionSize}\sottoDidascalia{Coefficiente d'aggregrazione \(C(k)\).\label{figDeMontisCk}}};

        \node[SubCaption] at (Col1 c1r2.south)
            {\dimTesto{\subCaptionSize}\sottoDidascalia{Assortatività \(k_{nn}(k)\).\label{figDeMontisKnnk}}};
        \node[SubCaption] at (Col2 c1r2.south)
            {\dimTesto{\subCaptionSize}\sottoDidascalia{Centralità per intermediazione \(g(i)\).\label{figDeMontisGi}}};
    
        \node[SubCaption] at (Col1 c1r3.south)
            {\dimTesto{\subCaptionSize}\sottoDidascalia{Distribuzione di probabilità dei pesi.\label{figDeMontisWk}}};
        \node[SubCaption] at (Col2 c1r3.south)
            {\dimTesto{\subCaptionSize}\sottoDidascalia{Distribuzione di probabilità delle forze.\label{figDeMontisSk}}};

        
        \pgfmathparse{1.5*\plotWidth}\node[SubCaption,text width=\pgfmathresult cm] at (Col1 c1r5.south)
            {\dimTesto{\subCaptionSize}\sottoDidascalia{Coefficiente [relativo] d'aggregazione pesato \(C^w(k)\).\label{figDeMontisCwk}}};
        \node[SubCaption] at (Col2 c1r5.south)
            {\dimTesto{\subCaptionSize}\sottoDidascalia{Assortatività [relativa] pesata \(k_{nn}^w(k)\).\label{figDeMontisKnnwk}}};
    
        % https://tex.stackexchange.com/questions/632045/get-subcaption-for-every-plot-using-groupplot-pgf-tikz-after-2020-update
    %\endgroup

    \redefineTikZbounds{Col1 c1r1}{Col2 c1r1}
\end{tikzpicture}%
