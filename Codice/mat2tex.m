function mat2tex(matpath,texpath)
    s = load(matpath);
    f = string(fieldnames(s.plots));

    % figure('Visible','on');
    figure('Visible','off');
    hold on

    for i = 1:numel(f)
        field = f(i);

        switch s.plots.(field).t
            case 'scatter'
                scatter( ...
                    double(s.plots.(field).x), ...
                    double(s.plots.(field).y), ...
                    'DisplayName', s.plots.(field).l, ...
                    'MarkerFaceColor',s.plots.(field).c, ...
                    'MarkerEdgeColor','None' ...
                );

                % plot( ...
                %     double(s.plots.(field).x), ...
                %     double(s.plots.(field).y), ...
                %     'DisplayName',s.plots.(field).l, ...
                %     'LineStyle','none', ...
                %     'Marker','o', ...
                %     'MarkerFaceColor',s.plots.(field).c, ...
                %     'MarkerEdgeColor','None' ...
                % ); % Alternative way to plot scatter points

            case 'function'
                plot( ...
                    double(s.plots.(field).x), ...
                    double(s.plots.(field).y), ...
                    'DisplayName',s.plots.(field).l, ...
                    'Color',s.plots.(field).c ...
                );

            case 'histogram'
                if(s.plots.(field).s == "lin")
                    histogram( ...
                        double(s.plots.(field).x), ...
                        'NumBins',s.plots.(field).b, ...
                        'Normalization','pdf', ...
                        'DisplayName',s.plots.(field).l, ...
                        'FaceColor',s.plots.(field).c, ...
                        'FaceAlpha',double(s.plots.(field).a), ...
                        'EdgeColor','None' ...
                    );
                else
                    edges = logspace( ...
                        log10(double(min(s.plots.(field).x))), ...
                        log10(double(max(s.plots.(field).x))), ...
                        s.plots.(field).b ...
                    );

                    histogram( ...
                        double(s.plots.(field).x), ...
                        'BinEdges',edges, ...
                        'Normalization','pdf', ...
                        'DisplayName',s.plots.(field).l, ...
                        'FaceColor',s.plots.(field).c, ...
                        'FaceAlpha',double(s.plots.(field).a), ...
                        'EdgeColor','None' ...
                    );
                end

        end
    end

    ax = gca;

    grid on
    ax.GridLineStyle = '--';
    ax.YMinorGrid = 'off';
    ax.XMinorGrid = 'off';

    xlabel( ...
        s.style.labels.x,...
        'interpreter','latex' ...
    );
    ylabel( ...
        s.style.labels.y,...
        'interpreter','latex' ...
    );

    set(ax,'XScale',s.style.scale.x)
    set(ax,'YScale',s.style.scale.y)

    if(s.style.legend == 1)
        legend( ...
            'Location','best',...
            'interpreter','latex' ...
        );
    end

    ishistogram = isfield(s.plots,"histogramPlot") || isfield(s.plots,"histogramPlot1"); % If there is at least a histogram plot

    if(ishistogram && s.style.scale.y == "log")
        matlab2tikz( ...
            texpath, ...
            'standalone',true, ...
            'floatFormat','%.15g', ...
            'extraAxisOptions', {'log origin=infty'} ...
        ); % This correction is necessary to avoid having upside down bins in the «.tex» file when the y-scale is logarithmic
    else
        matlab2tikz( ...
            texpath, ...
            'standalone',true, ...
            'floatFormat','%.15g' ...
        );
    end
end